<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<record id="hr_holidays_view_form_inherit" model="ir.ui.view">
        <field name="name">hr.holidays.view.form.inherit.hr</field>
        <field name="model">hr.holidays</field>
        <field name="inherit_id" ref="hr_holidays.edit_holiday_new"/>
        <field name="arch" type="xml">
		
			<field name="display_name" position="before"> 
				<br />
				<span string=" " />
				<br />
				<br />
				<span string=" " />
				<field name="display_name" invisible="1"  /> 
			 </field>
		 <field name="payslip_status" position="replace"> 
				<field name="payslip_status"  invisible="1" />
				<field name="x_total_hrs"  />
				<field name="x_redeem_count"  readonly="1" />
		 </field>
		 </field>
	 </record>
	 
	  <record id="hr_holiday_allocation_tree_inherit" model="ir.ui.view">
        <field name="name">hr.holidays.view.tree.inherit</field>
        <field name="model">hr.holidays</field>
        <field name="inherit_id" ref="hr_holidays.view_holiday_allocation_tree"/>
        <field name="arch" type="xml">
		 <field name="employee_id" position="replace"> 
				<field name="x_first_name"  />
				<field name="x_last_name"  />
		 </field>
		 
		  <field name="state" position="before"> 
				<field name="x_redeem" options='{"fg_color": "green:x_redeem_stage==2;orange:x_redeem_stage==1;blue:x_redeem_stage==0;"}'/>
				<field name="x_redeem_stage" invisible="1"/>
		  </field>
		 </field>
	 </record>
	 
 
	 
	 <record id="hr_holiday_status_view_tree_inherit" model="ir.ui.view">
        <field name="name">hr.holidays.status.view.tree.inherit</field>
        <field name="model">hr.holidays.status</field>
        <field name="inherit_id" ref="hr_holidays.view_holiday_status_normal_tree"/>
        <field name="arch" type="xml">
		 <field name="name" position="after"> 
				<field name="x_code"  />
				<field name="x_refcode"  />
				<field name="x_accrued"  />
				<field name="x_is_ts_fullday"  />
				<field name="x_category_id"  />
				
		 </field>
		 </field>
	 </record>
	 
	 
	 <record id="hr_holidays_holiday_status_form_inherit" model="ir.ui.view">
        <field name="name">hr.holidays.status.form.inherit.hr</field>
        <field name="model">hr.holidays.status</field>
        <field name="inherit_id" ref="hr_holidays.edit_holiday_status_form"/>
        <field name="arch" type="xml">
		 <field name="name" position="after"> 
				<field name="x_code"  />
				<field name="x_refcode"  />
				<field name="x_accrued"  />
				<field name="x_is_ts_fullday"  />
				<field name="x_category_id"  />
				
		 </field>
		 </field>
	 </record>
	 
	 
	 <record id="dincelhr_holidays_view_form_new" model="ir.ui.view">
        <field name="name">dincelhr.holidays.view.form.new</field>
        <field name="model">hr.holidays</field>
       
        <field name="arch" type="xml">
		<form string="Leave Form">
               
                <header>
                    <button string="Confirm" name="action_confirm" states="draft" type="object" class="oe_highlight"/>
                    <button string="Approve" name="action_approve" states="confirm" type="object" groups="hr_holidays.group_hr_holidays_user" class="oe_highlight"/>
                    <button string="Validate" name="action_validate" states="validate1" type="object" groups="hr_holidays.group_hr_holidays_manager" class="oe_highlight"/>
                    <button string="Refuse" name="action_refuse" states="confirm,validate,validate1" type="object" groups="hr_holidays.group_hr_holidays_user"/>
                    <button string="Reset to Draft" name="action_draft" type="object" attrs="{'invisible': ['|', ('can_reset', '=', False), ('state', 'not in', ['confirm', 'refuse'])]}"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,confirm,validate"/>
                </header>
                
					 <field name="can_reset" invisible="1"/>
					<field name="type" invisible="1"/>
                    <div class="oe_title">
                        <h1><field name="display_name" invisible="1"/></h1>
                    </div>
                    <group>
                        <group>
							<field name="employee_id" attrs="{'required':[('holiday_type','=','employee')],'invisible':[('holiday_type','=','category')]}" groups="hr_holidays.group_hr_holidays_user" options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                           <field name="holiday_status_id" context="{'employee_id':employee_id}" options="{'no_quick_create': True, 'no_create_edit' : True}"/>
							
                            <label for="number_of_days_temp" string="Duration"/>
                            <div>
                                <div attrs="{'invisible': [('type', '=', 'add')]}">
                                    <field name="date_from" attrs="{'required':[('type', '=', 'remove')]}" class="oe_inline"/>
                                    <label string="-" class="oe_inline"/>
                                    <field name="date_to" attrs="{'required':[('type', '=', 'remove')]}" class="oe_inline"/>
                                </div>
                                <div>
                                    <field name="number_of_days_temp" class="oe_inline"/> days
                                </div>
                            </div>
                        </group>
                        <group>
                            <field name="holiday_type" invisible="1" attrs="{'readonly':[('type', '=', 'remove'),('state','!=','draft')]}" string="Mode" groups="hr_holidays.group_hr_holidays_user" context="{'employee_id':employee_id}"/>
                            
                            <field name="category_id" attrs="{'required':[('holiday_type','=','category')], 'readonly': [('type', '=', 'remove'),('state','!=','draft'), ('state','!=','confirm')], 'invisible':[('holiday_type','=','employee')]}"/>
                            <field name="department_id" invisible="1" groups="hr_holidays.group_hr_holidays_user" attrs="{'readonly':['|','|' ,('type','=','add'),('holiday_type','=','category'),('state','=', 'validate')],'invisible':[('holiday_type','=','category')]}"/>
                            <field name="payslip_status" invisible="1" groups="hr_holidays.group_hr_holidays_manager" attrs="{'invisible':[('type','=','add')]}" widget="toggle_button"/>
							<field name="x_total_hrs"  />
							 <field name="name" attrs="{'readonly':[('state','!=','draft'),('state','!=','confirm')]}"/>
                            
							<field name="x_redeem" readonly="1"/>
							
							<field name="x_balance_hrs" readonly="1"/>
							 <field name="x_date_from" invisible="1"/>
							  <field name="x_date_to" invisible="1"/>
							  <button class="oe_inline oe_stat_button" type="object"
									name="action_open_payslips"
									icon="fa-money"
									context="{'search_default_holiday_id': active_id}">
									
									<field string="Payslips" name="x_redeem_count" widget="statinfo"/>
								</button>
                        </group>
                        <field name="notes" nolabel="1" colspan="4" placeholder="Add a reason..." attrs="{'invisible': [('type', '=', 'remove')]}"/>
                        <div groups="hr_holidays.group_hr_holidays_manager" attrs="{'invisible':[('type','=','add')]}">
                            <separator string="Comment by Manager"/>
                            <field name="report_note" placeholder="e.g. Report to the next month..."/>
                        </div>
                    </group>
               
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
		 </field>
	 </record>
</odoo>
